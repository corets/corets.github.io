(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{CdV1:function(e,c,t){"use strict";t.r(c),t.d(c,"_frontmatter",(function(){return r})),t.d(c,"default",(function(){return i}));var s=t("Fcif"),a=t("+I+c"),o=(t("mXGw"),t("/FXl")),n=t("BIGe"),r=(t("aD51"),{});void 0!==r&&r&&r===Object(r)&&Object.isExtensible(r)&&!r.hasOwnProperty("__filemeta")&&Object.defineProperty(r,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/pages/accessor.mdx"}});var l={_frontmatter:r},b=n.a;function i(e){var c=e.components,t=Object(a.a)(e,["components"]);return Object(o.b)(b,Object(s.a)({},l,t,{components:c,mdxType:"MDXLayout"}),Object(o.b)("h1",{id:"accessor"},"Accessor"),Object(o.b)("p",null,"Statically typed object accessor based on the ",Object(o.b)("a",Object(s.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy"}),"Proxy")," API. The main purpose of this package is to allow dynamic object access in a static manner, without having to rely on dynamic, string based keys. Code won't compile if you try to access a field that does not exist! It also allows you to fully control the result of the object access."),Object(o.b)("pre",null,Object(o.b)("code",Object(s.a)({parentName:"pre"},{className:"language-bash"}),"yarn add @corets/accessor\n")),Object(o.b)("h2",{id:"createaccessor"},Object(o.b)("inlineCode",{parentName:"h2"},"createAccessor")),Object(o.b)("p",null,"Create an accessor instance of type ",Object(o.b)("inlineCode",{parentName:"p"},"ObjectAccessor"),"."),Object(o.b)("p",null,"One can omit the custom access handler logic and simply use accessor as a statically typed facade for your object:"),Object(o.b)("pre",null,Object(o.b)("code",Object(s.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n')),Object(o.b)("p",null,"Or one can provide a custom access handler to customise object access behaviour. Below is an example of how one could statically access translations, proxied by a translation library, using the accessor."),Object(o.b)("pre",null,Object(o.b)("code",Object(s.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst translations = {\n  pages: {\n    home: {\n      title: "Home {replacement}"\n    },\n    about: {\n      title: "About {replacement}"\n    }\n  }\n}\n\nconst translator = createSomeSortOfTranslator(translations)\n\nconst locales = createAccessor(translations, (source, key, ...replacements: any[]): string => {\n  return translator.get(key, { replacements })\n})\n')),Object(o.b)("p",null,"Now one can indirectly access translations throughout the accessor, without using any dynamic keys."),Object(o.b)("pre",null,Object(o.b)("code",Object(s.a)({parentName:"pre"},{className:"language-ts"}),'const translatedHomePageTitle = locales.pages.home.title.get("Page")\n')),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Note: Trying to access a missing key would result in a compilation error.")),Object(o.b)("h2",{id:"objectaccessorkey"},Object(o.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.key()")),Object(o.b)("p",null,"Get absolute key of a field:"),Object(o.b)("pre",null,Object(o.b)("code",Object(s.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "some.field"\naccessor.some.field.key()\n')),Object(o.b)("h2",{id:"objectaccessorkeyat"},Object(o.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.keyAt()")),Object(o.b)("p",null,"Get absolute key of a field, bypassing the static typing:"),Object(o.b)("pre",null,Object(o.b)("code",Object(s.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "some.field"\naccessor.some.keyAt("field")\n')),Object(o.b)("h2",{id:"objectaccessorget"},Object(o.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.get()")),Object(o.b)("p",null,"Get value of a field coming from the access handler:"),Object(o.b)("pre",null,Object(o.b)("code",Object(s.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "value"\naccessor.some.field.get()\n')),Object(o.b)("h2",{id:"objectaccessorgetat"},Object(o.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.getAt()")),Object(o.b)("p",null,"Get value of a field coming from the access handler, bypassing the static typing:"),Object(o.b)("pre",null,Object(o.b)("code",Object(s.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "value"\naccessor.some.getAt("field")\n')),Object(o.b)("h2",{id:"objectaccessorhas"},Object(o.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.has()")),Object(o.b)("p",null,"Check if a field exists:"),Object(o.b)("pre",null,Object(o.b)("code",Object(s.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "true"\naccessor.some.field.has()\n')),Object(o.b)("h2",{id:"objectaccessorhasat"},Object(o.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.hasAt()")),Object(o.b)("p",null,"Check if a field exists, bypassing the static typing:"),Object(o.b)("pre",null,Object(o.b)("code",Object(s.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "true"\naccessor.some.hasAt("field")\n')))}void 0!==i&&i&&i===Object(i)&&Object.isExtensible(i)&&!i.hasOwnProperty("__filemeta")&&Object.defineProperty(i,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/pages/accessor.mdx"}}),i.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-accessor-mdx-dc26fd3aa0ee272d34da.js.map