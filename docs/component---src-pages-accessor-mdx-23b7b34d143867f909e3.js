(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{CdV1:function(e,c,t){"use strict";t.r(c),t.d(c,"_frontmatter",(function(){return r})),t.d(c,"default",(function(){return i}));var a=t("Fcif"),s=t("+I+c"),n=(t("mXGw"),t("/FXl")),o=t("BIGe"),r=(t("aD51"),{});void 0!==r&&r&&r===Object(r)&&Object.isExtensible(r)&&!r.hasOwnProperty("__filemeta")&&Object.defineProperty(r,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/pages/accessor.mdx"}});var l={_frontmatter:r},b=o.a;function i(e){var c=e.components,t=Object(s.a)(e,["components"]);return Object(n.b)(b,Object(a.a)({},l,t,{components:c,mdxType:"MDXLayout"}),Object(n.b)("h1",{id:"accessor"},"Accessor"),Object(n.b)("p",null,"Statically typed object accessor based on the ",Object(n.b)("a",Object(a.a)({parentName:"p"},{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy"}),"Proxy")," API. The main purpose of this package is to allow dynamic object access in a static manner, without having to rely on dynamic, string based keys. Code won't compile if you try to access a field that does not exist! You keep control over what is returned from the getter, by providing a custom access handler."),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"yarn add @corets/accessor\n")),Object(n.b)("h2",{id:"createaccessor"},Object(n.b)("inlineCode",{parentName:"h2"},"createAccessor")),Object(n.b)("p",null,"Create an accessor instance of type ",Object(n.b)("inlineCode",{parentName:"p"},"ObjectAccessor"),"."),Object(n.b)("p",null,"One can omit the custom access handler logic and simply use accessor as a statically typed facade for your object:"),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n')),Object(n.b)("p",null,"Now you can statically access every object field:"),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'// returns "value"\naccessor.some.field.get()\n')),Object(n.b)("p",null,Object(n.b)("strong",{parentName:"p"},"Note: If a custom access handler is omitted, a default one is used instead, that simply returns the value as is.")),Object(n.b)("p",null,"Or one can provide a custom access handler to customise object access behaviour. Below is an example of how one could statically access translations, proxied by a translation library, using the accessor."),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst translations = {\n  pages: {\n    home: {\n      title: "Home {replacement}"\n    },\n    about: {\n      title: "About {replacement}"\n    }\n  }\n}\n\nconst translator = createSomeSortOfTranslator(translations)\n\nconst locales = createAccessor(translations, (source, key, ...replacements: any[]): string => {\n  return translator.get(key, { replacements })\n})\n')),Object(n.b)("p",null,"Now one can indirectly access translations through the accessor, without using any dynamic keys."),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'// would return "Home Page"\nconst translatedHomePageTitle = locales.pages.home.title.get("Page")\n')),Object(n.b)("p",null,Object(n.b)("strong",{parentName:"p"},"Note: Trying to access a missing key will result in a compilation error.")),Object(n.b)("h2",{id:"objectaccessorkey"},Object(n.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.key")),Object(n.b)("p",null,"Get absolute key of a field:"),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "some.field"\naccessor.some.field.key()\n')),Object(n.b)("h2",{id:"objectaccessorkeyat"},Object(n.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.keyAt")),Object(n.b)("p",null,"Get absolute key of a field, bypassing the static typing:"),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "some.field"\naccessor.some.keyAt("field")\n')),Object(n.b)("h2",{id:"objectaccessorget"},Object(n.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.get")),Object(n.b)("p",null,"Get value of a field coming from the access handler:"),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "value"\naccessor.some.field.get()\n')),Object(n.b)("h2",{id:"objectaccessorgetat"},Object(n.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.getAt")),Object(n.b)("p",null,"Get value of a field coming from the access handler, bypassing the static typing:"),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "value"\naccessor.some.getAt("field")\n')),Object(n.b)("h2",{id:"objectaccessorhas"},Object(n.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.has")),Object(n.b)("p",null,"Check if a field exists:"),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "true"\naccessor.some.field.has()\n')),Object(n.b)("h2",{id:"objectaccessorhasat"},Object(n.b)("inlineCode",{parentName:"h2"},"ObjectAccessor.hasAt")),Object(n.b)("p",null,"Check if a field exists, bypassing the static typing:"),Object(n.b)("pre",null,Object(n.b)("code",Object(a.a)({parentName:"pre"},{className:"language-ts"}),'import { createAccessor } from "@corets/accessor"\n\nconst accessor = createAccessor({ some: { field: "value" } })\n\n// returns "true"\naccessor.some.hasAt("field")\n')))}void 0!==i&&i&&i===Object(i)&&Object.isExtensible(i)&&!i.hasOwnProperty("__filemeta")&&Object.defineProperty(i,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/pages/accessor.mdx"}}),i.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-accessor-mdx-23b7b34d143867f909e3.js.map