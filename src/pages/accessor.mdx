---
name: Accessor
route: /accessor
repository: accessor
---

# Accessor

Statically typed object accessor based on the [Proxy](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy) API. The main purpose of this package is to allow dynamic object access in a static manner, without having to rely on dynamic, string based keys. Code won't compile if you try to access a field that does not exist! You keep control over what is returned from the getter, by providing a custom access handler.

```bash
yarn add @corets/accessor
```

## `createAccessor`


Create an accessor instance of type `ObjectAccessor`.

One can omit the custom access handler logic and simply use accessor as a statically typed facade for your object:

```ts
import { createAccessor } from "@corets/accessor"

const accessor = createAccessor({ some: { field: "value" } })
```

Now you can statically access every object field:

```ts
// returns "value"
accessor.some.field.get()
```

**Note: If a custom access handler is omitted, a default one is used instead, that simply returns the value as is.**

Or one can provide a custom access handler to customise object access behaviour. Below is an example of how one could statically access translations, proxied by a translation library, using the accessor.

```ts
import { createAccessor } from "@corets/accessor"

const translations = {
  pages: {
    home: {
      title: "Home {replacement}"
    },
    about: {
      title: "About {replacement}"
    }
  }
}

const translator = createSomeSortOfTranslator(translations)

const locales = createAccessor(translations, (source, key, ...replacements: any[]): string => {
  return translator.get(key, { replacements })
})
```

Now one can indirectly access translations through the accessor, without using any dynamic keys.

```ts
// would return "Home Page"
const translatedHomePageTitle = locales.pages.home.title.get("Page")
```

**Note: Trying to access a missing key will result in a compilation error.**

## `ObjectAccessor.key`

Get absolute key of a field:

```ts
import { createAccessor } from "@corets/accessor"

const accessor = createAccessor({ some: { field: "value" } })

// returns "some.field"
accessor.some.field.key()
```

## `ObjectAccessor.keyAt`

Get absolute key of a field, bypassing the static typing:

```ts
import { createAccessor } from "@corets/accessor"

const accessor = createAccessor({ some: { field: "value" } })

// returns "some.field"
accessor.some.keyAt("field")
```

## `ObjectAccessor.get`

Get value of a field coming from the access handler:

```ts
import { createAccessor } from "@corets/accessor"

const accessor = createAccessor({ some: { field: "value" } })

// returns "value"
accessor.some.field.get()
```

## `ObjectAccessor.getAt`

Get value of a field coming from the access handler, bypassing the static typing:

```ts
import { createAccessor } from "@corets/accessor"

const accessor = createAccessor({ some: { field: "value" } })

// returns "value"
accessor.some.getAt("field")
```

## `ObjectAccessor.has`

Check if a field exists:

```ts
import { createAccessor } from "@corets/accessor"

const accessor = createAccessor({ some: { field: "value" } })

// returns "true"
accessor.some.field.has()
```

## `ObjectAccessor.hasAt`

Check if a field exists, bypassing the static typing:

```ts
import { createAccessor } from "@corets/accessor"

const accessor = createAccessor({ some: { field: "value" } })

// returns "true"
accessor.some.hasAt("field")
```
